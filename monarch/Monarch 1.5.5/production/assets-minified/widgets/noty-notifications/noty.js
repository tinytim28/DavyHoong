"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b});var NotyObject={init:function(a){if(this.options=$.extend({},$.noty.defaults,a),this.options.layout=this.options.custom?$.noty.layouts.inline:$.noty.layouts[this.options.layout],$.noty.themes[this.options.theme]?(this.options.theme=$.noty.themes[this.options.theme],this.options.theme.template&&(this.options.template=this.options.theme.template),this.options.theme.animation&&(this.options.animation=this.options.theme.animation)):this.options.themeClassName=this.options.theme,this.options=$.extend({},this.options,this.options.layout.options),this.options.id){if($.noty.store[this.options.id])return $.noty.store[this.options.id]}else this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random());return this._build(),this},_build:function(){var a=$('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(a.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?$(this.options.layout.parent.object).css(this.options.layout.parent.css).append(a):a,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){var b;this.$bar.find(".noty_buttons").length>0?b=this.$bar.find(".noty_buttons"):(b=$("<div/>").addClass("noty_buttons"),null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(b):this.$bar.append(b));var c=this;$.each(this.options.buttons,function(a,d){var e=$("<button/>").addClass(d.addClass?d.addClass:"gray").html(d.text).attr("id",d.id?d.id:"button-"+a).attr("title",d.title).appendTo(b).on("click",function(a){$.isFunction(d.onClick)&&d.onClick.call(e,c,a)})})}else this.$bar.find(".noty_buttons").remove();if(this.options.progressBar&&this.options.timeout){var d=$("<div/>").addClass("noty_progress_bar");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(d):this.$bar.append(d)}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),this.$progressBar=this.$bar.find(".noty_progress_bar"),$.noty.store[this.options.id]=this},show:function(){var a=this;return a.options.custom?a.options.custom.find(a.options.layout.container.selector).append(a.$bar):$(a.options.layout.container.selector).append(a.$bar),a.options.theme&&a.options.theme.style&&a.options.theme.style.apply(a),"function"===$.type(a.options.layout.css)?this.options.layout.css.apply(a.$bar):a.$bar.css(this.options.layout.css||{}),a.$bar.addClass(a.options.layout.addClass),a.options.layout.container.style.apply($(a.options.layout.container.selector),[a.options.within]),a.showing=!0,a.options.theme&&a.options.theme.style&&a.options.theme.callback.onShow.apply(this),$.inArray("click",a.options.closeWith)>-1&&a.$bar.css("cursor","pointer").on("click",function(b){a.stopPropagation(b),a.options.callback.onCloseClick&&a.options.callback.onCloseClick.apply(a),a.close()}),$.inArray("hover",a.options.closeWith)>-1&&a.$bar.one("mouseenter",function(){a.close()}),$.inArray("button",a.options.closeWith)>-1&&a.$closeButton.one("click",function(b){a.stopPropagation(b),a.close()}),-1==$.inArray("button",a.options.closeWith)&&a.$closeButton.remove(),a.options.callback.beforeShow&&a.options.callback.beforeShow.apply(a),"string"==typeof a.options.animation.open?(a.animationTypeOpen="css",a.$bar.css("min-height",a.$bar.innerHeight()),a.$bar.on("click",function(b){a.wasClicked=!0}),a.$bar.show(),a.options.callback.onShow&&a.options.callback.onShow.apply(a),a.$bar.addClass(a.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.options.callback.afterShow&&a.options.callback.afterShow.apply(a),a.showing=!1,a.shown=!0,a.bindTimeout(),a.hasOwnProperty("wasClicked")&&(a.$bar.off("click",function(b){a.wasClicked=!0}),a.close())})):"object"==typeof a.options.animation.open&&null==a.options.animation.open?(a.animationTypeOpen="none",a.showing=!1,a.shown=!0,a.$bar.show(),a.bindTimeout(),a.options.callback.onShow&&a.options.callback.onShow.apply(a),a.$bar.queue(function(){a.options.callback.afterShow&&a.options.callback.afterShow.apply(a)})):(a.animationTypeOpen="anim",a.options.callback.onShow&&a.options.callback.onShow.apply(a),a.$bar.animate(a.options.animation.open,a.options.animation.speed,a.options.animation.easing,function(){a.options.callback.afterShow&&a.options.callback.afterShow.apply(a),a.showing=!1,a.shown=!0,a.bindTimeout()})),this},bindTimeout:function(){var a=this;a.options.timeout&&(a.options.progressBar&&a.$progressBar&&(a.$progressBar.css({transition:"all 100ms linear"}),a.progressPercentage=a.$progressBar.width()/(a.options.timeout/100),a.intervalId=setInterval(function(){a.$progressBar.width(a.$progressBar.width()-a.progressPercentage)},100)),a.queueClose(a.options.timeout),a.$bar.on("mouseenter",a.dequeueClose.bind(a)),a.$bar.on("mouseleave",a.queueClose.bind(a,a.options.timeout)))},dequeueClose:function(){this.intervalId&&(clearInterval(this.intervalId),this.$progressBar.css("width","100%"),this.intervalId=null),this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},queueClose:function(a){var b=this;if(!b.intervalId&&b.options.progressBar&&(b.intervalId=setInterval(function(){b.$progressBar.width(b.$progressBar.width()-b.progressPercentage)},100)),!this.closeTimer)return b.closeTimer=window.setTimeout(function(){b.close()},a),b.closeTimer},close:function(){if(this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,this.$progressBar&&this.$progressBar.css("width","0%")),this.closeTimer&&this.dequeueClose(),!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var a=this;if(this.showing&&("anim"==this.animationTypeOpen||"none"==this.animationTypeOpen))return void a.$bar.queue(function(){a.close.apply(a)});if(this.showing&&"css"==this.animationTypeOpen&&a.$bar.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.close()}),!this.shown&&!this.showing){var b=[];return $.each($.noty.queue,function(c,d){d.options.id!=a.options.id&&b.push(d)}),void($.noty.queue=b)}a.$bar.addClass("i-am-closing-now"),a.options.callback.onClose&&a.options.callback.onClose.apply(a),"string"==typeof a.options.animation.close?a.$bar.removeClass(a.options.animation.open).addClass(a.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.options.callback.afterClose&&a.options.callback.afterClose.apply(a),a.closeCleanUp()}):"object"==typeof a.options.animation.close&&null==a.options.animation.close?a.$bar.dequeue().hide(0,function(){a.options.callback.afterClose&&a.options.callback.afterClose.apply(a),a.closeCleanUp()}):a.$bar.clearQueue().stop().animate(a.options.animation.close,a.options.animation.speed,a.options.animation.easing,function(){a.options.callback.afterClose&&a.options.callback.afterClose.apply(a)}).promise().done(function(){a.closeCleanUp()})}},closeCleanUp:function(){var a=this;a.options.modal&&($.notyRenderer.setModalCount(-1),0!=$.notyRenderer.getModalCount()||$.noty.queue.length||$(".noty_modal").fadeOut(a.options.animation.fadeSpeed,function(){$(this).remove()})),$.notyRenderer.setLayoutCountFor(a,-1),0==$.notyRenderer.getLayoutCountFor(a)&&$(a.options.layout.container.selector).remove(),void 0!==a.$bar&&null!==a.$bar?"string"==typeof a.options.animation.close?(a.$bar.css("transition","all 10ms ease").css("border",0).css("margin",0).height(0),a.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.$bar.remove(),a.$bar=null,a.closed=!0,a.options.theme.callback&&a.options.theme.callback.onClose&&a.options.theme.callback.onClose.apply(a),a.handleNext()})):(a.$bar.remove(),a.$bar=null,a.closed=!0,a.handleNext()):a.handleNext()},handleNext:function(){var a=this;delete $.noty.store[a.options.id],a.options.theme.callback&&a.options.theme.callback.onClose&&a.options.theme.callback.onClose.apply(a),a.options.dismissQueue||($.noty.ontap=!0,$.notyRenderer.render()),a.options.maxVisible>0&&a.options.dismissQueue&&$.notyRenderer.render()},setText:function(a){return this.closed||(this.options.text=a,this.$bar.find(".noty_text").html(a)),this},setType:function(a){return this.closed||(this.options.type=a,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(a){if(!this.closed){var b=this;this.options.timeout=a,b.$bar.delay(b.options.timeout).promise().done(function(){b.close()})}return this},stopPropagation:function(a){a=a||window.event,void 0!==a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},closed:!1,showing:!1,shown:!1};$.notyRenderer={},$.notyRenderer.init=function(a){var b=Object.create(NotyObject).init(a);return b.options.killer&&$.noty.closeAll(),b.options.force?$.noty.queue.unshift(b):$.noty.queue.push(b),$.notyRenderer.render(),"object"==$.noty.returns?b:b.options.id},$.notyRenderer.render=function(){var a=$.noty.queue[0];"object"===$.type(a)?a.options.dismissQueue?a.options.maxVisible>0?$(a.options.layout.container.selector+" > li").length<a.options.maxVisible&&$.notyRenderer.show($.noty.queue.shift()):$.notyRenderer.show($.noty.queue.shift()):$.noty.ontap&&($.notyRenderer.show($.noty.queue.shift()),$.noty.ontap=!1):$.noty.ontap=!0},$.notyRenderer.show=function(a){a.options.modal&&($.notyRenderer.createModalFor(a),$.notyRenderer.setModalCount(1)),a.options.custom?0==a.options.custom.find(a.options.layout.container.selector).length?a.options.custom.append($(a.options.layout.container.object).addClass("i-am-new")):a.options.custom.find(a.options.layout.container.selector).removeClass("i-am-new"):0==$(a.options.layout.container.selector).length?$("body").append($(a.options.layout.container.object).addClass("i-am-new")):$(a.options.layout.container.selector).removeClass("i-am-new"),$.notyRenderer.setLayoutCountFor(a,1),a.show()},$.notyRenderer.createModalFor=function(a){if(0==$(".noty_modal").length){var b=$("<div/>").addClass("noty_modal").addClass(a.options.theme).data("noty_modal_count",0);a.options.theme.modal&&a.options.theme.modal.css&&b.css(a.options.theme.modal.css),b.prependTo($("body")).fadeIn(a.options.animation.fadeSpeed),$.inArray("backdrop",a.options.closeWith)>-1&&b.on("click",function(){$.noty.closeAll()})}},$.notyRenderer.getLayoutCountFor=function(a){return $(a.options.layout.container.selector).data("noty_layout_count")||0},$.notyRenderer.setLayoutCountFor=function(a,b){return $(a.options.layout.container.selector).data("noty_layout_count",$.notyRenderer.getLayoutCountFor(a)+b)},$.notyRenderer.getModalCount=function(){return $(".noty_modal").data("noty_modal_count")||0},$.notyRenderer.setModalCount=function(a){return $(".noty_modal").data("noty_modal_count",$.notyRenderer.getModalCount()+a)},$.fn.noty=function(a){return a.custom=$(this),$.notyRenderer.init(a)},$.noty={},$.noty.queue=[],$.noty.ontap=!0,$.noty.layouts={},$.noty.themes={},$.noty.returns="object",$.noty.store={},$.noty.get=function(a){return!!$.noty.store.hasOwnProperty(a)&&$.noty.store[a]},$.noty.close=function(a){return!!$.noty.get(a)&&$.noty.get(a).close()},$.noty.setText=function(a,b){return!!$.noty.get(a)&&$.noty.get(a).setText(b)},$.noty.setType=function(a,b){return!!$.noty.get(a)&&$.noty.get(a).setType(b)},$.noty.clearQueue=function(){$.noty.queue=[]},$.noty.closeAll=function(){$.noty.clearQueue(),$.each($.noty.store,function(a,b){b.close()})};var windowAlert=window.alert;$.noty.consumeAlert=function(a){window.alert=function(b){a?a.text=b:a={text:b},$.notyRenderer.init(a)}},$.noty.stopConsumeAlert=function(){window.alert=windowAlert},$.noty.defaults={layout:"topRight",theme:"relax",type:"alert",text:"",progressBar:!1,dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{beforeShow:function(){},onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},$(window).on("resize",function(){$.each($.noty.layouts,function(a,b){b.container.style.apply($(b.container.selector))})}),window.noty=function(a){return $.notyRenderer.init(a)};